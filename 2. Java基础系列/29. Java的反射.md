# Java åå°„

Java åå°„æ˜¯æŒ‡åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ä¸€ä¸ªç±»çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ç±»åã€å±æ€§ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ç­‰ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶å€™åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æˆå‘˜æ–¹æ³•ç­‰ã€‚

Java åå°„æä¾›äº†ç¨‹åºåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡åŠ¨æ€è·å–ç¨‹åºç±»çš„ç›¸å…³ä¿¡æ¯å®ç°çš„ä¸€ç§æœºåˆ¶ã€‚ä½¿ç”¨ Java åå°„æœºåˆ¶å¯ä»¥é€šè¿‡ç±»åã€æ–¹æ³•åç­‰ä¿¡æ¯æ¥åŠ¨æ€è·å–æˆ–ä¿®æ”¹ç›¸å…³æ•°æ®ï¼Œå¯ä»¥å¤§å¤§æé«˜ç¨‹åºä»£ç çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚Java åå°„ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š

- è·å– Java ç±»çš„ä¿¡æ¯ã€‚
- è·å– Java å¯¹è±¡çš„ä¿¡æ¯ã€‚
- åŠ¨æ€åˆ›å»º Java å¯¹è±¡ã€‚
- åŠ¨æ€è°ƒç”¨ Java å¯¹è±¡çš„æ–¹æ³•ã€‚

## è·å– Java ç±»çš„ä¿¡æ¯

Java ç±»çš„ä¿¡æ¯ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼šç±»åã€ä¿®é¥°ç¬¦ã€çˆ¶ç±»ã€æ¥å£ã€å±æ€§ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ç­‰ã€‚é€šè¿‡ Java åå°„æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡ç±»ååŠ¨æ€åœ°è·å–ä¸€ä¸ª Class ç±»å‹çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå®ä¾‹è·å–è¯¥ç±»çš„ç›¸å…³ä¿¡æ¯ã€‚

### è·å– Class å¯¹è±¡

åœ¨ Java ä¸­ï¼Œæ¯ä¸ªç±»çš„å®šä¹‰éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶ç”±ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ Class å¯¹è±¡ï¼Œç”¨äºæè¿°è¯¥ç±»çš„ä¿¡æ¯ã€‚è·å– Class å¯¹è±¡çš„æ–¹å¼æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š

#### 1. é€šè¿‡ç±»åè·å–

é€šè¿‡ç±»çš„å…¨é™å®šåè°ƒç”¨ Class ç±»çš„ forName() é™æ€æ–¹æ³•æ¥è·å–è¯¥ç±»å¯¹åº”çš„ Class å¯¹è±¡ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
```

#### 2. é€šè¿‡å¯¹è±¡å®ä¾‹è·å–

ä½¿ç”¨å¯¹è±¡çš„ getClass() æ–¹æ³•è·å–è¯¥å¯¹è±¡å¯¹åº”çš„ Class å¯¹è±¡ã€‚

```java
MyClass myClass = new MyClass();
Class<? extends MyClass> cls = myClass.getClass();
```

#### 3. é€šè¿‡ .class æ–‡ä»¶è·å–

ä½¿ç”¨ç±»å.class çš„æ–¹å¼è·å–è¯¥ç±»å¯¹åº”çš„ Class å¯¹è±¡ã€‚

```java
Class<MyClass> cls = MyClass.class;
```

### è·å–ç±»åå’Œä¿®é¥°ç¬¦

é€šè¿‡ Class å¯¹è±¡çš„ getName() å’Œ getModifiers() æ–¹æ³•è·å–ç±»çš„å…¨é™å®šåå’Œä¿®é¥°ç¬¦ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
System.out.println("Class name: " + cls.getName());
System.out.println("Modifiers: " + Modifier.toString(cls.getModifiers()));
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Class name: com.example.MyClass
Modifiers: public
```

### è·å–çˆ¶ç±»å’Œæ¥å£

ä½¿ç”¨ Class å¯¹è±¡çš„ getSuperclass() å’Œ getInterfaces() æ–¹æ³•è·å–è¯¥ç±»çš„çˆ¶ç±»å’Œå®ç°çš„æ¥å£ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
System.out.println("Superclass: " + cls.getSuperclass().getName());
Class<?>[] interfaces = cls.getInterfaces();
for (Class<?> inter : interfaces) {
    System.out.println("Interface: " + inter.getName());
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Superclass: java.lang.Object
```

### è·å–å±æ€§

ä½¿ç”¨ Class å¯¹è±¡çš„ getFields()ã€getDeclaredFields() æ–¹æ³•è·å–è¯¥ç±»å£°æ˜çš„å±æ€§ã€‚getFields() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰ public çš„å±æ€§ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å±æ€§ï¼Œè€Œ getDeclaredFields() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰å±æ€§ï¼Œä¸åŒ…æ‹¬çˆ¶ç±»çš„å±æ€§ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
Field[] fields = cls.getDeclaredFields();
for (Field field : fields) {
    System.out.println("Field: " + field.getName());
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Field: age
Field: name
```

### è·å–æ–¹æ³•

ä½¿ç”¨ Class å¯¹è±¡çš„ getMethods()ã€getDeclaredMethods() æ–¹æ³•è·å–è¯¥ç±»å£°æ˜çš„æ–¹æ³•ã€‚getMethods() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰ public çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œ getDeclaredMethods() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰æ–¹æ³•ï¼Œä¸åŒ…æ‹¬çˆ¶ç±»çš„æ–¹æ³•ã€‚åŒæ—¶ï¼Œé€šè¿‡ getMethod() æ–¹æ³•è¿˜å¯ä»¥è·å–æŒ‡å®šçš„æ–¹æ³•ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
Method[] methods = cls.getDeclaredMethods();
for (Method method : methods) {
    System.out.println("Method: " + method.getName());
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Method: getName
Method: getAge
Method: setName
Method: setAge
```

### è·å–æ„é€ æ–¹æ³•

ä½¿ç”¨ Class å¯¹è±¡çš„ getConstructors()ã€getDeclaredConstructors() æ–¹æ³•è·å–è¯¥ç±»å£°æ˜çš„æ„é€ æ–¹æ³•ã€‚getConstructors() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰ public çš„æ„é€ æ–¹æ³•ï¼Œè€Œ getDeclaredConstructors() æ–¹æ³•è¿”å›çš„æ˜¯æ‰€æœ‰æ„é€ æ–¹æ³•ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
Constructor<?>[] constructors = cls.getDeclaredConstructors();
for (Constructor<?> constructor : constructors) {
    System.out.println("Constructor: " + constructor.getName());
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Constructor: com.example.MyClass
Constructor: com.example.MyClass
```

## è·å– Java å¯¹è±¡çš„ä¿¡æ¯

è·å– Java å¯¹è±¡çš„ä¿¡æ¯ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼šç±»åã€å±æ€§ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ç­‰ã€‚é€šè¿‡ Java åå°„æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡å®ä¾‹è·å–è¯¥å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯ã€‚

### è·å–ç±»å

ä½¿ç”¨ Object å¯¹è±¡çš„ getClass() æ–¹æ³•è·å–è¯¥å¯¹è±¡çš„ Class å¯¹è±¡ï¼Œå†è°ƒç”¨ getName() æ–¹æ³•è·å–è¯¥å¯¹è±¡çš„ç±»åã€‚

```java
MyClass myClass = new MyClass();
String className = myClass.getClass().getName();
System.out.println("Class name: " + className);
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
Class name: com.example.MyClass
```

### è·å–å±æ€§å€¼

ä½¿ç”¨ Field å¯¹è±¡çš„ get() å’Œ set() æ–¹æ³•è·å–å’Œè®¾ç½®å¯¹è±¡çš„å±æ€§å€¼ã€‚

```java
MyClass myClass = new MyClass();
Field field = myClass.getClass().getDeclaredField("name");
field.setAccessible(true);
String name = (String) field.get(myClass);
field.set(myClass, "Lucy");
```

### è°ƒç”¨æ–¹æ³•

ä½¿ç”¨ Method å¯¹è±¡çš„ invoke() æ–¹æ³•è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ã€‚

```java
MyClass myClass = new MyClass();
Method method = myClass.getClass().getMethod("getName");
String name = (String) method.invoke(myClass);
```

### è°ƒç”¨æ„é€ æ–¹æ³•

ä½¿ç”¨ Constructor å¯¹è±¡çš„ newInstance() æ–¹æ³•è°ƒç”¨å¯¹è±¡çš„æ„é€ æ–¹æ³•ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
Constructor<?> constructor = cls.getDeclaredConstructor(String.class, int.class);
MyClass myClass = (MyClass) constructor.newInstance("Tom", 22);
```

## åŠ¨æ€åˆ›å»º Java å¯¹è±¡

åœ¨ Java ä¸­ï¼Œé€šè¿‡åå°„æŠ€æœ¯å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. è·å–è¦åˆ›å»ºå¯¹è±¡çš„ Class å¯¹è±¡ã€‚
2. è°ƒç”¨ Class å¯¹è±¡çš„ newInstance() æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚
3. åœ¨åˆ›å»ºå¯¹è±¡æ—¶éœ€è¦æ³¨æ„ï¼Œå¦‚æœç±»çš„æ— å‚æ„é€ æ–¹æ³•è¢«ç¦æ­¢ï¼Œåˆ™éœ€è¦é€šè¿‡è°ƒç”¨è¯¥ç±»çš„æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚

```java
Class<?> cls = Class.forName("com.example.MyClass");
MyClass myClass = (MyClass) cls.newInstance();
```

## åŠ¨æ€è°ƒç”¨ Java å¯¹è±¡çš„æ–¹æ³•

åœ¨ Java ä¸­ï¼Œé€šè¿‡åå°„æŠ€æœ¯å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. è·å–è¦è°ƒç”¨æ–¹æ³•å¯¹åº”çš„ Method å¯¹è±¡ã€‚
2. è°ƒç”¨ Method å¯¹è±¡çš„ invoke() æ–¹æ³•è°ƒç”¨æ–¹æ³•ã€‚
3. åœ¨è°ƒç”¨æ–¹æ³•æ—¶éœ€è¦æ³¨æ„å‚æ•°çš„ç±»å‹å’Œæ•°é‡ã€‚

```java
MyClass myClass = new MyClass();
Method method = myClass.getClass().getMethod("setName", String.class);
method.invoke(myClass, "Tom");
```

## æ€»ç»“

Java åå°„æœºåˆ¶å¯ä»¥è®©ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„å±æ€§ä¿¡æ¯ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€çˆ¶ç±»ã€æ¥å£ç­‰ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡åå°„æœºåˆ¶åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ã€‚åå°„æœºåˆ¶åœ¨ Java å¼€å‘ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚æ¡†æ¶ã€ORM æ˜ å°„ç­‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºç¼–å†™ Java çš„æµ‹è¯•ä»£ç ã€‚ä½†æ˜¯ç”±äºåå°„æœºåˆ¶çš„ç±»å‹æ£€æŸ¥å˜å¾—ä¸å®‰å…¨ï¼Œä¹Ÿä¼šå½±å“ç¨‹åºè¿è¡Œæ•ˆç‡ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶éœ€è¦è°¨æ…æ“ä½œã€‚

å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šâ€œå°è™å“¥çš„æŠ€æœ¯åšå®¢â€ã€‚æˆ‘ä»¬ä¼šå®šæœŸå‘å¸ƒå…³äºJavaæŠ€æœ¯çš„è¯¦å°½æ–‡ç« ï¼Œè®©æ‚¨èƒ½å¤Ÿæ·±å…¥äº†è§£è¯¥é¢†åŸŸçš„å„ç§æŠ€å·§å’Œæ–¹æ³•ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æˆä¸ºæ›´ä¼˜ç§€çš„ç¨‹åºå‘˜ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»ï¼